!function(a,b,c){"use strict";var d="ht",e=a[d],f=null,g=Math,h=g.PI,i=g.cos,j=g.sin,k=g.abs,l=g.max,m=g.sqrt,n=1e-5,o=e.Default,p=o.def,q=o.startAnim,r=o.createMatrix,s=o.transformVec,t=o.getInternal(),u=t.addMethod,v=t.superCall,w=t.toPointsArray,x=t.createNormals,y=t.toFloatArray,z=t.glMV,A=t.batchShape,B=t.createNodeMatrix,C=t.getFaceInfo,D=t.transformAppend,E=t.drawFaceInfo,F=t.createAnim,G=t.cube(),H=G.is,I=G.vs,J=G.uv,K=t.ui(),L=e.Node,M=e.Shape,N="h",O="v",P="front",Q="back",R="left",S="right",T="top",U="bottom",V="dw.expanded",W=".expanded",X="dw.angle",Y=".angle",Z=function(a,b,c){p(d+"."+a,b,c)},$=function(a,b,c){c?a.push(b.x,b.y):a.push(b.x,b.y,b.z)},_=[1,0,0],aa=function(a,b,c,d){var e,g,h,i,j=0,k=[];if(d)for(e=d.length;e>j;j+=3)g=d[j],h=d[j+1],i=d[j+2],k.push(new ka([new ia([b[3*g],b[3*g+1],b[3*g+2]],_,c?[c[2*g],c[2*g+1],0]:f),new ia([b[3*h],b[3*h+1],b[3*h+2]],_,c?[c[2*h],c[2*h+1],0]:f),new ia([b[3*i],b[3*i+1],b[3*i+2]],_,c?[c[2*i],c[2*i+1],0]:f)],a));else for(e=b.length;e>j;j+=3)g=j,h=j+1,i=j+2,k.push(new ka([new ia([b[3*g],b[3*g+1],b[3*g+2]],_,c?[c[2*g],c[2*g+1],0]:f),new ia([b[3*h],b[3*h+1],b[3*h+2]],_,c?[c[2*h],c[2*h+1],0]:f),new ia([b[3*i],b[3*i+1],b[3*i+2]],_,c?[c[2*i],c[2*i+1],0]:f)],a));return k},ba=[R,P,S,Q,T,U],ca=ba.concat("csg"),da=[0,6,12,18,24,30],ea=function(a,b,c){for(var d=B(a),e=[],g=0;6>g;g++)for(var h=ba[g],i=da[g],j=c?b.getFaceUv(a,h):f,k=c?b.getFaceUvScale(a,h):f,l=c?b.getFaceUvOffset(a,h):f,m=0;2>m;m++){var n,o,p,q=H[i+3*m],r=H[i+3*m+1],t=H[i+3*m+2];if(c){if(j){var u=8*g;n=[j[2*q-u],j[2*q+1-u],0],o=[j[2*r-u],j[2*r+1-u],0],p=[j[2*t-u],j[2*t+1-u],0]}else n=[J[2*q],J[2*q+1],0],o=[J[2*r],J[2*r+1],0],p=[J[2*t],J[2*t+1],0];k&&(n[0]*=k[0],n[1]*=k[1],o[0]*=k[0],o[1]*=k[1],p[0]*=k[0],p[1]*=k[1]),l&&(n[0]+=l[0],n[1]+=l[1],o[0]+=l[0],o[1]+=l[1],p[0]+=l[0],p[1]+=l[1])}e.push(new ka([new ia(s([I[3*q],I[3*q+1],I[3*q+2]],d),_,n),new ia(s([I[3*r],I[3*r+1],I[3*r+2]],d),_,o),new ia(s([I[3*t],I[3*t+1],I[3*t+2]],d),_,p)],a))}return ga.$15n(e)},fa=function(a,b,c){var d,e=a.data.getAttaches();if(e&&e.each(function(a){a instanceof oa&&a.s("attach.operation")&&(d||(d=[]),d.push(a))}),d){var g;ba.forEach(function(b){var c=aa(b,a[b].vs,a[b].tuv);g=g?g.concat(c):c}),g=ga.$15n(g),d.forEach(function(b){var c=b.s("attach.operation");g[c]&&(g=g[c](ea(b,a.gv,a.csg.tuv)))}),ba.forEach(function(b){b=a[b],b.vs=[],b.tuv&&(b.tuv=[])}),g.$19n().forEach(function(b){var c=b.$10n;if(c instanceof oa){if(c.s("attach.cull"))return;c="csg"}for(var d=a[c],e=d.vs,f=d.tuv,g=b.$9n,h=2;h<g.length;h++)$(e,g[0].$24n),$(e,g[h-1].$24n),$(e,g[h].$24n),f&&($(f,g[0].uv,!0),$(f,g[h-1].uv,!0),$(f,g[h].uv,!0))})}ca.forEach(function(b){var c=a[b];c.visible&&c.vs.length?(c.ns=x(c.vs),y(c,"vs"),y(c,"tuv")):delete a[b]}),b&&(A(a,f,b),a.clear())};u(o,{createFrameModel:function(a,b,c,d){a=a==f?.07:a,b=b==f?a:b,c=c==f?a:c,d=d?d:{};var e=d.top,g=d.bottom,h=d.left,i=d.right,j=d.front,k=d.back,l=[],m=[];return j===!0?(l.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),m.push(0,0,0,1,1,1,1,1,1,0,0,0)):j===!1||(l.push(-.5,.5,.5,-.5,-.5,.5,-.5+a,-.5,.5,-.5+a,-.5,.5,-.5+a,.5,.5,-.5,.5,.5,.5-a,.5,.5,.5-a,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-a,.5,.5,-.5+a,.5,.5,-.5+a,.5-b,.5,.5-a,.5-b,.5,.5-a,.5-b,.5,.5-a,.5,.5,-.5+a,.5,.5,-.5+a,-.5+b,.5,-.5+a,-.5,.5,.5-a,-.5,.5,.5-a,-.5,.5,.5-a,-.5+b,.5,-.5+a,-.5+b,.5),m.push(0,0,0,1,a,1,a,1,a,0,0,0,1-a,0,1-a,1,1,1,1,1,1,0,1-a,0,a,0,a,b,1-a,b,1-a,b,1-a,0,a,0,a,1-b,a,1,1-a,1,1-a,1,1-a,1-b,a,1-b)),k===!0?(l.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),m.push(1,0,0,1,1,1,0,1,1,0,0,0)):k===!1||(l.push(-.5,.5,-.5,-.5+a,-.5,-.5,-.5,-.5,-.5,-.5+a,-.5,-.5,-.5,.5,-.5,-.5+a,.5,-.5,.5-a,.5,-.5,.5,-.5,-.5,.5-a,-.5,-.5,.5,-.5,-.5,.5-a,.5,-.5,.5,.5,-.5,-.5+a,.5,-.5,.5-a,.5-b,-.5,-.5+a,.5-b,-.5,.5-a,.5-b,-.5,-.5+a,.5,-.5,.5-a,.5,-.5,-.5+a,-.5+b,-.5,.5-a,-.5,-.5,-.5+a,-.5,-.5,.5-a,-.5,-.5,-.5+a,-.5+b,-.5,.5-a,-.5+b,-.5),m.push(1,0,1-a,1,1,1,1-a,1,1,0,1-a,0,a,0,0,1,a,1,0,1,a,0,0,0,1-a,0,a,b,1-a,b,a,b,1-a,0,a,0,1-a,1-b,a,1,1-a,1,a,1,1-a,1-b,a,1-b)),h===!0?(l.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),m.push(0,0,0,1,1,1,1,1,1,0,0,0)):h===!1||(l.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+c,-.5,-.5,-.5+c,-.5,.5,-.5+c,-.5,.5,-.5,-.5,.5,.5-c,-.5,-.5,.5-c,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-c,-.5,.5,-.5+c,-.5,.5-b,-.5+c,-.5,.5-b,.5-c,-.5,.5-b,.5-c,-.5,.5,.5-c,-.5,.5,-.5+c,-.5,-.5+b,-.5+c,-.5,-.5,-.5+c,-.5,-.5,.5-c,-.5,-.5,.5-c,-.5,-.5+b,.5-c,-.5,-.5+b,-.5+c),m.push(0,0,0,1,c,1,c,1,c,0,0,0,1-c,0,1-c,1,1,1,1,1,1,0,1-c,0,c,0,c,b,1-c,b,1-c,b,1-c,0,c,0,c,1-b,c,1,1-c,1,1-c,1,1-c,1-b,c,1-b)),i===!0?(l.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),m.push(1,0,0,1,1,1,0,1,1,0,0,0)):i===!1||(l.push(.5,.5,-.5,.5,-.5,-.5+c,.5,-.5,-.5,.5,-.5,-.5+c,.5,.5,-.5,.5,.5,-.5+c,.5,.5,.5-c,.5,-.5,.5,.5,-.5,.5-c,.5,-.5,.5,.5,.5,.5-c,.5,.5,.5,.5,.5,-.5+c,.5,.5-b,.5-c,.5,.5-b,-.5+c,.5,.5-b,.5-c,.5,.5,-.5+c,.5,.5,.5-c,.5,-.5+b,-.5+c,.5,-.5,.5-c,.5,-.5,-.5+c,.5,-.5,.5-c,.5,-.5+b,-.5+c,.5,-.5+b,.5-c),m.push(1,0,1-c,1,1,1,1-c,1,1,0,1-c,0,c,0,0,1,c,1,0,1,c,0,0,0,1-c,0,c,b,1-c,b,c,b,1-c,0,c,0,1-c,1-b,c,1,1-c,1,c,1,1-c,1-b,c,1-b)),e===!0?(l.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),m.push(1,1,1,0,0,0,0,0,0,1,1,1)):e===!1||(l.push(.5,.5,.5,.5,.5,-.5,.5-a,.5,-.5,.5-a,.5,-.5,.5-a,.5,.5,.5,.5,.5,-.5+a,.5,.5,-.5+a,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+a,.5,.5,.5-a,.5,.5,.5-a,.5,.5-c,-.5+a,.5,.5-c,-.5+a,.5,.5-c,-.5+a,.5,.5,.5-a,.5,.5,.5-a,.5,-.5+c,.5-a,.5,-.5,-.5+a,.5,-.5,-.5+a,.5,-.5,-.5+a,.5,-.5+c,.5-a,.5,-.5+c),m.push(1,1,1,0,1-a,0,1-a,0,1-a,1,1,1,a,1,a,0,0,0,0,0,0,1,a,1,1-a,1,1-a,1-c,a,1-c,a,1-c,a,1,1-a,1,1-a,c,1-a,0,a,0,a,0,a,c,1-a,c)),g===!0?(l.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),m.push(1,0,0,1,1,1,0,1,1,0,0,0)):g===!1||(l.push(.5,-.5,.5,.5-a,-.5,-.5,.5,-.5,-.5,.5-a,-.5,-.5,.5,-.5,.5,.5-a,-.5,.5,-.5+a,-.5,.5,-.5,-.5,-.5,-.5+a,-.5,-.5,-.5,-.5,-.5,-.5+a,-.5,.5,-.5,-.5,.5,.5-a,-.5,.5,-.5+a,-.5,.5-c,.5-a,-.5,.5-c,-.5+a,-.5,.5-c,.5-a,-.5,.5,-.5+a,-.5,.5,.5-a,-.5,-.5+c,-.5+a,-.5,-.5,.5-a,-.5,-.5,-.5+a,-.5,-.5,.5-a,-.5,-.5+c,-.5+a,-.5,-.5+c),m.push(1,0,1-a,1,1,1,1-a,1,1,0,1-a,0,a,0,0,1,a,1,0,1,a,0,0,0,1-a,0,a,c,1-a,c,a,c,1-a,0,a,0,1-a,1-c,a,1,1-a,1,a,1,1-a,1-c,a,1-c)),{vs:l,uv:m}}}),u(e.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":c,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":h/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),ba.forEach(function(a){var b={};b[a+W]=!1,b[a+".toggleable"]=!1,b[a+".axis"]=R,b[a+".start"]=0,b[a+".end"]=h/2,b[a+Y]=0,u(e.Style,b,!0)});var ga=function(){this.$4n=[]};ga.$15n=function(a){var b=new ga;return b.$4n=a,b},ga.prototype={clone:function(){var a=new ga;return a.$4n=this.$4n.map(function(a){return a.clone()}),a},$19n:function(){return this.$4n},union:function(a){var b=new la(this.clone().$4n),c=new la(a.clone().$4n);return b.$3n(c),c.$3n(b),c.$6n(),c.$3n(b),c.$6n(),b.$7n(c.$2n()),ga.$15n(b.$2n())},subtract:function(a){var b=new la(this.clone().$4n),c=new la(a.clone().$4n);return b.$6n(),b.$3n(c),c.$3n(b),c.$6n(),c.$3n(b),c.$6n(),b.$7n(c.$2n()),b.$6n(),ga.$15n(b.$2n())},intersect:function(a){var b=new la(this.clone().$4n),c=new la(a.clone().$4n);return b.$6n(),c.$3n(b),c.$6n(),b.$3n(c),c.$3n(b),b.$7n(c.$2n()),b.$6n(),ga.$15n(b.$2n())},inverse:function(){var a=this.clone();return a.$4n.map(function(a){a.flip()}),a}},ga.cube=function(a){a=a||{};var b=new ha(a.center||[0,0,0]),c=a.radius?a.radius.length?a.radius:[a.radius,a.radius,a.radius]:[1,1,1];return ga.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(a){return new ka(a[0].map(function(d){var e=new ha(b.x+c[0]*(2*!!(1&d)-1),b.y+c[1]*(2*!!(2&d)-1),b.z+c[2]*(2*!!(4&d)-1));return new ia(e,new ha(a[1]))}))}))},ga.sphere=function(a){function b(a,b){a*=2*h,b*=h;var f=new ha(i(a)*j(b),i(b),j(a)*j(b));c.push(new ia(d.$20n(f.$21n(e)),f))}a=a||{};for(var c,d=new ha(a.center||[0,0,0]),e=a.radius||1,f=a.slices||16,g=a.stacks||8,k=[],l=0;f>l;l++)for(var m=0;g>m;m++)c=[],b(l/f,m/g),m>0&&b((l+1)/f,m/g),g-1>m&&b((l+1)/f,(m+1)/g),b(l/f,(m+1)/g),k.push(new ka(c));return ga.$15n(k)},ga.cylinder=function(a){function b(a,b,d){var g=b*h*2,m=n.$21n(i(g)).$20n(o.$21n(j(g))),p=c.$20n(e.$21n(a)).$20n(m.$21n(f)),q=m.$21n(1-k(d)).$20n(l.$21n(d));return new ia(p,q)}a=a||{};for(var c=new ha(a.start||[0,-1,0]),d=new ha(a.end||[0,1,0]),e=d.$13n(c),f=a.radius||1,g=a.slices||16,l=e.$14n(),m=k(l.y)>.5,n=new ha(m,!m,0).$12n(l).$14n(),o=n.$12n(l).$14n(),p=new ia(c,l.$11n()),q=new ia(d,l.$14n()),r=[],s=0;g>s;s++){var t=s/g,u=(s+1)/g;r.push(new ka([p,b(0,t,-1),b(0,u,-1)])),r.push(new ka([b(0,u,0),b(0,t,0),b(1,t,0),b(1,u,0)])),r.push(new ka([q,b(1,u,1),b(1,t,1)]))}return ga.$15n(r)};var ha=function(a,b,c){var d=this;3==arguments.length?(d.x=a,d.y=b,d.z=c):"x"in a?(d.x=a.x,d.y=a.y,d.z=a.z):(d.x=a[0],d.y=a[1],d.z=a[2])};ha.prototype={clone:function(){return new ha(this.x,this.y,this.z)},$11n:function(){return new ha(-this.x,-this.y,-this.z)},$20n:function(a){return new ha(this.x+a.x,this.y+a.y,this.z+a.z)},$13n:function(a){return new ha(this.x-a.x,this.y-a.y,this.z-a.z)},$21n:function(a){return new ha(this.x*a,this.y*a,this.z*a)},$16n:function(a){return new ha(this.x/a,this.y/a,this.z/a)},$23n:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lerp:function(a,b){return this.$20n(a.$13n(this).$21n(b))},length:function(){return m(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(a){var b=this;return new ha(b.y*a.z-b.z*a.y,b.z*a.x-b.x*a.z,b.x*a.y-b.y*a.x)}};var ia=function(a,b,c){var d=this;d.$24n=new ha(a),d.$22n=new ha(b),d.uv=c?new ha(c):null};ia.prototype={clone:function(){var a=this;return new ia(a.$24n.clone(),a.$22n.clone(),a.uv?a.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(a,b){var c=this;return new ia(c.$24n.lerp(a.$24n,b),c.$22n.lerp(a.$22n,b),c.uv?c.uv.lerp(a.uv,b):null)}};var ja=function(a,b){this.$22n=a,this.w=b};ja.$17n=function(a,b,c){var d=b.$13n(a).$12n(c.$13n(a)).$14n();return new ja(d,d.$23n(a))},ja.prototype={clone:function(){return new ja(this.$22n.clone(),this.w)},flip:function(){var a=this;a.$22n=a.$22n.$11n(),a.w=-a.w},$5n:function(a,b,c,d,e){for(var f=this,g=0,h=1,i=2,j=3,k=0,l=[],m=0;m<a.$9n.length;m++){var o=f.$22n.$23n(a.$9n[m].$24n)-f.w,p=-n>o?i:o>n?h:g;k|=p,l.push(p)}switch(k){case g:(f.$22n.$23n(a.$8n.$22n)>0?b:c).push(a);break;case h:d.push(a);break;case i:e.push(a);break;case j:for(var q=[],r=[],m=0;m<a.$9n.length;m++){var s=(m+1)%a.$9n.length,t=l[m],u=l[s],v=a.$9n[m],w=a.$9n[s];if(t!=i&&q.push(v),t!=h&&r.push(t!=i?v.clone():v),(t|u)==j){var o=(f.w-this.$22n.$23n(v.$24n))/f.$22n.$23n(w.$24n.$13n(v.$24n)),x=v.$18n(w,o);q.push(x),r.push(x.clone())}}q.length>=3&&d.push(new ka(q,a.$10n)),r.length>=3&&e.push(new ka(r,a.$10n))}}};var ka=function(a,b){var c=this;c.$9n=a,c.$10n=b,c.$8n=ja.$17n(a[0].$24n,a[1].$24n,a[2].$24n)};ka.prototype={clone:function(){var a=this.$9n.map(function(a){return a.clone()});return new ka(a,this.$10n)},flip:function(){this.$9n.reverse().map(function(a){a.flip()}),this.$8n.flip()}};var la=function(a){var b=this;b.$8n=null,b.front=null,b.back=null,b.$4n=[],a&&b.$7n(a)};la.prototype={clone:function(){var a=this,b=new la;return b.$8n=a.$8n&&a.$8n.clone(),b.front=a.front&&a.front.clone(),b.back=a.back&&a.back.clone(),b.$4n=a.$4n.map(function(a){return a.clone()}),b},$6n:function(){for(var a=this,b=0;b<a.$4n.length;b++)a.$4n[b].flip();a.$8n.flip(),a.front&&a.front.$6n(),a.back&&a.back.$6n();var c=a.front;a.front=a.back,a.back=c},$1n:function(a){var b=this;if(!b.$8n)return a.slice();for(var c=[],d=[],e=0;e<a.length;e++)b.$8n.$5n(a[e],c,d,c,d);return b.front&&(c=b.front.$1n(c)),d=b.back?b.back.$1n(d):[],c.concat(d)},$3n:function(a){var b=this;b.$4n=a.$1n(b.$4n),b.front&&b.front.$3n(a),b.back&&b.back.$3n(a)},$2n:function(){var a=this,b=a.$4n.slice();return a.front&&(b=b.concat(a.front.$2n())),a.back&&(b=b.concat(a.back.$2n())),b},$7n:function(a){var b=this;if(a.length){b.$8n||(b.$8n=a[0].$8n.clone());for(var c=[],d=[],e=0;e<a.length;e++)this.$8n.$5n(a[e],b.$4n,b.$4n,c,d);c.length&&(b.front||(b.front=new la),this.front.$7n(c)),d.length&&(b.back||(b.back=new la),b.back.$7n(d))}}};var ma="symbol",na=e.Symbol=function(a,b,c){var d=this;v(na,d),d.s3(20,20,20),d.s({"all.visible":!1,shape:"rect"}),d.setIcon(a,b,c)};Z("Symbol",L,{setIcon:function(a,b,c){var d,e=this;return na.superClass.setIcon.call(e,a),a?(d={for3d:!0,face:"center",position:44,names:[a]},c&&(d.transaprent=!0),b&&(d.autorotate=b),e.addStyleIcon(ma,d)):e.removeStyleIcon(ma),e.setWidth(t.getImageWidth(o.getImage(a),e)||20),d}});var oa=e.CSGNode=function(){v(oa,this),this.s({shape:"rect","attach.thickness":1.001})},pa={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};Z("CSGNode",L,{_22Q:function(){return qa},onPropertyChanged:function(a){var b=this,c=b.getHost();oa.superClass.onPropertyChanged.call(b,a),pa[a.property]&&(c instanceof ra||c instanceof oa)&&c.fp("csgNodeChange",!0,!1)}});var qa=function(a,b){v(qa,this,[a,b])};p(qa,K.Node3dUI,{_80o:function(a,b,c){var d=this;d._shape3d?qa.superClass._80o.call(d,a,b,c):(z(d.gv),ca.forEach(function(e){E(d,a,b,d[e],c)}))},validate:function(a,b){var c=this,d=c.gv,e=c.data;if(e.s("shape3d"))return qa.superClass.validate.call(c,a,b),void(c._shape3d=!0);c._shape3d=!1;var f=B(e,d.getMat(e)),g=a&&a.uv;c.vf2("csg",g);for(var h=0;6>h;h++)for(var i=ba[h],j=da[h],k=c.vf2(i,g,b),l=k.mat||f,m=k.vs,n=k.uv,o=k.tuv,p=0;2>p;p++){var q=H[j+3*p],r=H[j+3*p+1],s=H[j+3*p+2];if(D(m,l,[I[3*q],I[3*q+1],I[3*q+2]]),D(m,l,[I[3*r],I[3*r+1],I[3*r+2]]),D(m,l,[I[3*s],I[3*s+1],I[3*s+2]]),o)if(n){var t=8*h;o.push(n[2*q-t],n[2*q+1-t],n[2*r-t],n[2*r+1-t],n[2*s-t],n[2*s+1-t])}else o.push(J[2*q],J[2*q+1],J[2*r],J[2*r+1],J[2*s],J[2*s+1])}fa(c,a,b)},vf2:function(a,b,c){var d,e=this,g=e.gv.getFaceVisible(e.data,a);return d=C(e,a,c),d.vs=[],d.tuv=g&&(d.texture||b)?[]:f,d.visible=g,d}});var ra=e.CSGShape=function(){var a=this;v(ra,a),a.s({"shape.background":f,"shape.border.width":8}),a.setTall(240),a.setElevation(120),a.setThickness(14)};Z("CSGShape",M,{IRotatable:!1,_22Q:function(){return sa},setRotationX:function(a){},setRotation:function(a){},setRotationZ:function(a){},setSegments:function(a){}});var sa=function(a,b){v(sa,this,[a,b])};p(sa,K.Shape3dUI,{_80o:function(a,b,c){var d=this;d.undrawable||(z(d.gv),ca.forEach(function(e){E(d,a,b,d[e],c)}))},validate:function(a,b){var c=this,d=c.data,e=d.getPoints();if(c.undrawable=e.size()<2)return void c.clear();var g=d.isClosePath(),h=l(d._thickness/2,n),i=w(e,f,f,g);ca.forEach(function(d){c.vf(d,a&&a.uv,!0,b)}),g&&(c.left.visible=!1,c.right.visible=!1),c._12O(i,h),c._20Q(i),fa(c,a,b)}});var ta=e.DoorWindow=function(){var a=this;v(ta,a),a.setElevation(100),a.s3(100,200,14)};Z("DoorWindow",oa,{IDoorWindow:!0,toggle:function(a){this.setExpanded(!this.s(V),a)},isExpanded:function(){return this.s(V)},setExpanded:function(a,b){var c=this,d=c.$25n,e=c.getDataModel(),f=c.s(V);if(d&&(d.stop(!0),delete c.$25n),f!==a){e&&e.beginTransaction();var g=a?c.s("dw.end"):c.s("dw.start");c.s(V,a),b=F(b),b?(f=c.s(X),b.action=function(a){c.s(X,f+(g-f)*a)},b.finishFunc=function(){e&&e.endTransaction()},c.$25n=q(b)):(c.s(X,g),e&&e.endTransaction())}},getMat:function(){var a=this,b=a.s("dw.s3"),c=a.s("dw.t3"),d=a.s("dw.flip"),e=a.s(X);if(b||e||c||d){var g=[];if(d&&g.push({r3:[0,h,0]}),b&&g.push({s3:b}),e){b=a.getFinalScale3d();var i=a.s("dw.axis"),j=b[0]/2,k=b[1]/2;b[2]/2;i===R?g.push({t3:[j,0,0]},{r3:[0,-e,0]},{t3:[-j,0,0]}):i===S?g.push({t3:[-j,0,0]},{r3:[0,e,0]},{t3:[j,0,0]}):i===T?g.push({t3:[0,-k,0]},{r3:[-e,0,0]},{t3:[0,k,0]}):i===U?g.push({t3:[0,k,0]},{r3:[e,0,0]},{t3:[0,-k,0]}):i===O?g.push({r3:[0,e,0]}):i===N&&g.push({r3:[e,0,0]})}return c&&g.push({t3:c}),r(g)}return f}});var ua=e.CSGBox=function(){var a=this;v(ua,a),a.setElevation(100),a.s3(100,200,100)};Z("CSGBox",oa,{ICSGBox:!0,toggleFace:function(a,b){this.setFaceExpanded(a,!this.s(a+W),b)},isFaceExpanded:function(a){return this.s(a+W)},setFaceExpanded:function(a,b,c){var d=this,e=d.$25n,f=d.s(a+W);if(e&&(e.stop(!0),delete d.$25n),f!==b){var g=b?d.s(a+".end"):d.s(a+".start");d.s(a+W,b),c=F(c),c?(f=d.s(a+Y),c.action=function(b){d.s(a+Y,f+(g-f)*b)},d.$25n=q(c)):d.s(a+Y,g)}},getFaceMat:function(a){var b=this,c=b.s(a+Y);if(!c)return f;var d=b.s(a+".axis"),e=b.s3(),g=e[0]/2,h=e[1]/2,i=e[2]/2,j=[];return a===P&&(d===R?j.push({t3:[g,0,-i]},{r3:[0,-c,0]},{t3:[-g,0,i]}):d===S?j.push({t3:[-g,0,-i]},{r3:[0,c,0]},{t3:[g,0,i]}):d===T?j.push({t3:[0,-h,-i]},{r3:[-c,0,0]},{t3:[0,h,i]}):d===U?j.push({t3:[0,h,-i]},{r3:[c,0,0]},{t3:[0,-h,i]}):d===O?j.push({t3:[0,0,-i]},{r3:[0,c,0]},{t3:[0,0,i]}):d===N&&j.push({t3:[0,0,-i]},{r3:[c,0,0]},{t3:[0,0,i]})),a===Q&&(d===R?j.push({t3:[-g,0,i]},{r3:[0,-c,0]},{t3:[g,0,-i]}):d===S?j.push({t3:[g,0,i]},{r3:[0,c,0]},{t3:[-g,0,-i]}):d===T?j.push({t3:[0,-h,i]},{r3:[c,0,0]},{t3:[0,h,-i]}):d===U?j.push({t3:[0,h,i]},{r3:[-c,0,0]},{t3:[0,-h,-i]}):d===O?j.push({t3:[0,0,i]},{r3:[0,c,0]},{t3:[0,0,-i]}):d===N&&j.push({t3:[0,0,i]},{r3:[c,0,0]},{t3:[0,0,-i]})),a===R&&(d===R?j.push({t3:[g,0,i]},{r3:[0,-c,0]},{t3:[-g,0,-i]}):d===S?j.push({t3:[g,0,-i]},{r3:[0,c,0]},{t3:[-g,0,i]}):d===T?j.push({t3:[g,-h,0]},{r3:[0,0,-c]},{t3:[-g,h,0]}):d===U?j.push({t3:[g,h,0]},{r3:[0,0,c]},{t3:[-g,-h,0]}):d===O?j.push({t3:[g,0,0]},{r3:[0,c,0]},{t3:[-g,0,0]}):d===N&&j.push({t3:[g,0,0]},{r3:[0,0,c]},{t3:[-g,0,0]})),a===S&&(d===R?j.push({t3:[-g,0,-i]},{r3:[0,-c,0]},{t3:[g,0,i]}):d===S?j.push({t3:[-g,0,i]},{r3:[0,c,0]},{t3:[g,0,-i]}):d===T?j.push({t3:[-g,-h,0]},{r3:[0,0,c]},{t3:[g,h,0]}):d===U?j.push({t3:[-g,h,0]},{r3:[0,0,-c]},{t3:[g,-h,0]}):d===O?j.push({t3:[-g,0,0]},{r3:[0,c,0]},{t3:[g,0,0]}):d===N&&j.push({t3:[-g,0,0]},{r3:[0,0,c]},{t3:[g,0,0]})),a===T&&(d===R?j.push({t3:[g,-h,0]},{r3:[0,0,c]},{t3:[-g,h,0]}):d===S?j.push({t3:[-g,-h,0]},{r3:[0,0,-c]},{t3:[g,h,0]}):d===T?j.push({t3:[0,-h,i]},{r3:[-c,0,0]},{t3:[0,h,-i]}):d===U?j.push({t3:[0,-h,-i]},{r3:[c,0,0]},{t3:[0,h,i]}):d===O?j.push({t3:[0,-h,0]},{r3:[0,0,c]},{t3:[0,h,0]}):d===N&&j.push({t3:[0,-h,0]},{r3:[c,0,0]},{t3:[0,h,0]})),a===U&&(d===R?j.push({t3:[g,h,0]},{r3:[0,0,-c]},{t3:[-g,-h,0]}):d===S?j.push({t3:[-g,h,0]},{r3:[0,0,c]},{t3:[g,-h,0]}):d===T?j.push({t3:[0,h,-i]},{r3:[-c,0,0]},{t3:[0,-h,i]}):d===U?j.push({t3:[0,h,i]},{r3:[c,0,0]},{t3:[0,-h,-i]}):d===O?j.push({t3:[0,h,0]},{r3:[0,0,c]},{t3:[0,-h,0]}):d===N&&j.push({t3:[0,h,0]},{r3:[c,0,0]},{t3:[0,-h,0]})),r(j)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);