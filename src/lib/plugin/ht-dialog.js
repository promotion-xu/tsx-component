!function(a,b,c){"use strict";var d="ht",e=a[d],f="px",g="left",h="top",i="bottom",j="right",k="innerHTML",l="className",m="",n="width",o="height",p="string",q="position",r="absolute",s="0",t="opacity",u="background",v=e.Default,w=v.getInternal(),x=e.Color,y=v.animate,z=v.isTouchable,A=null,B=(Math.sqrt,a.parseInt),C=a.setTimeout,D=(Math.round,x.titleIconBackground),E=function(a){return typeof a===p||a instanceof String},F=function(){return document},G=function(a){return F().createElement(a)},H=function(){var a=G("div");return a.tabIndex=-1,a.style.outline="none",a},I=function(){return G("canvas")},J=function(a,b){K(a,"-webkit-transform",b),K(a,"-ms-transform",b),K(a,"transform",b)},K=function(a,b,c){a.style.setProperty(b,c,A)},L=function(a,b,c){v.def(e.widget[a],b,c)},M=function(a,b){a.appendChild(b)},N=function(){return F().documentElement},O=function(){return N().clientWidth},P=function(){return N().clientHeight},Q=w.addEventListener,R=w.removeEventListener,S=function(a){var b=a.touches[0];return b?b:a.changedTouches[0]};w.addMethod(v,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:D},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:D}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:D},{type:"rect",rect:[10,10,80,20],background:D}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:D},{type:"rect",rect:[10,34,56,14],background:D},{type:"rect",rect:[34,10,56,14],background:D},{type:"rect",rect:[82,10,8,56],background:D},{type:"rect",rect:[66,62,24,8],background:D}]},dialogTitleLabelColor:v.labelSelectColor,dialogTitleLabelFont:(z?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:v.labelFont,dialogTitleBackground:x.titleBackground,dialogHeaderBackground:x.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var T=function(a){var b=this;b.$1d=a,b.addListeners()};v.def(T,b,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(a){var b=this,c=b.$1d,d=c.$6d,e=c._config,f=c.$7d,g=a,h=a.target;if(f.contains(h)||v.preventDefault(a),v.isLeftButton(a)){z&&(g=S(a));var i=b.$8d={x:g.pageX,y:g.pageY};b.$9d={x:i.x,y:i.y},!e.maximized&&e.draggable&&d.contains(h)&&(b.$4d=!0,v.startDragging(b,a)),b.handle_mousemove(a)&&(b.$2d=!0,v.startDragging(b,a)),f.contains(a.target)||c.$41d.focus()}},handle_mousedown:function(a){this.handle_touchstart(a)},handle_touchend:function(a){if(v.isLeftButton(a)&&!this.$5d&&!this.$3d){var b=this,c=b.$1d,d=a.target,e=c._config,f=c.$18d,g=c.$16d;for(e.closable&&f.contains(d)&&c.hide(),e.maximizable&&g.contains(d)&&(e.maximized?c.restore():c.maximize());d&&(d.className||"").indexOf("dialog-button")<0;)d=d.parentNode;d&&d.buttonItem&&c.action&&c.action(d.buttonItem,a),delete b.$8d,delete b.$9d}},handle_mouseup:function(a){this.handle_touchend(a)},handleWindowTouchEnd:function(a){var b=this,c=b.$1d,d=c.$10d;b.$2d&&b.$3d?d.fire({kind:"endResize",target:c,originEvent:a}):b.$4d&&b.$5d&&d.fire({kind:"endMove",target:c,originEvent:a}),this.clear()},handleWindowMouseUp:function(a){this.handleWindowTouchEnd(a)},handle_mousemove:function(a){var b=this.$1d._config;if(b.maximized)return!1;if("w"!==b.resizeMode&&"h"!==b.resizeMode&&"wh"!==b.resizeMode)return!1;var c=this,d=c.getView(),e=d.querySelector(".resize-area"),f=e.getBoundingClientRect(),g={x:f.left,y:f.top,width:f.width,height:f.height};a=z?S(a):a;var h=a.clientX,i=a.clientY,j={x:h,y:i};return v.containsPoint(g,j)?(K(d,"cursor","nwse-resize"),!0):void K(d,"cursor",m)},handleWindowTouchMove:function(a){a.preventDefault();var b=a;z&&(b=S(a));var c=this,d=c.$8d,e=c.$9d;if(!(e.x==d.x&&e.y==d.y&&v.getDistance(e,{x:b.pageX,y:b.pageY})<=1)){var i=c.$1d,j=i._config,k=i.$21d,l=j.resizeMode||"wh",m=b.pageX-d.x,n=b.pageY-d.y;if(c.$2d){var o=k.offsetWidth,p=k.offsetHeight,q=o+m,r=p+n;if(q=Math.max(q,50),r=Math.max(r,50),"center"===j.position||j.position==A){var s={},t=k.getBoundingClientRect();s.x=t.left,s.y=t.top,j.position=s}"w"===l?(i.setSize(q,p),d.x+=q-o):"h"===l?(i.setSize(o,r),d.y+=r-p):"wh"===l&&(i.setSize(q,r),d.x+=q-o,d.y+=r-p),c.$3d?i.$10d.fire({kind:"betweenResize",target:i,originEvent:a}):(c.$3d=!0,i.$10d.fire({kind:"beginResize",target:i,originEvent:a}))}else if(c.$4d){var u=k.getBoundingClientRect(),w=u.width,x=u.height,y=O(),C=P(),D=B(k.style.left)||0,E=B(k.style.top)||0,F=D+m,G=E+n,H=i.adjustPosition({x:F,y:G},{width:w,height:x},{width:y,height:C});H&&(F=H.x,G=H.y);var I=F-D,J=G-E;K(k,g,F+f),K(k,h,G+f),d.x+=I,d.y+=J,j.position={x:F,y:G},c.$5d?i.$10d.fire({kind:"betweenMove",target:i,originEvent:a}):(c.$5d=!0,i.$10d.fire({kind:"beginMove",target:i,originEvent:a}))}}},handleWindowMouseMove:function(a){this.handleWindowTouchMove(a)},handleWindowResize:function(){var a=this,b=a,c=b._config,d=b.$21d,e=O(),i=P(),j=c.width,k=c.height,l=c.position||"center";c.maximized?(K(d,n,e+f),K(d,o,i+f),K(d,h,s),K(d,g,s)):(K(d,n,j+f),K(d,o,k+f),"center"===l?(K(d,g,(e-j)/2+f),K(d,h,(i-k)/2+f)):(K(d,g,l.x+f),K(d,h,l.y+f))),b.iv()},handle_mousewheel:function(a){a.stopPropagation()},handle_DOMMouseScroll:function(a){a.stopPropagation()}}),e.widget.Dialog=function(a){var b=this,c=b._view=w.createView(null,b);c[l]="ht-widget-dialog",K(c,q,r),v.baseZIndex!=A&&K(c,"z-index",v.baseZIndex+"");var d=b.$11d=new T(b);b.bindingHandleWindowResize=d.handleWindowResize.bind(b),b.$10d=new e.Notifier,a&&b.setConfig(a)},L("Dialog",b,{ms_v:1,ms_fire:1,setTitle:function(a){this._config.title=a,this.getView().querySelector(".dialog-container-title span").innerHTML=a},clearNodes:function(a){if(a)for(;a.firstChild;)a.removeChild(a.firstChild)},$31d:function(){var a=this,b=a.$6d=H(),c=a._config,d=a.$12d=a.$13d();b[l]="dialog-container-title",K(b,"cursor","default"),K(b,"white-space","nowrap"),K(b,"overflow","hidden"),K(b,"font",v.dialogTitleLabelFont),K(b,u,c.titleBackground||v.dialogTitleBackground),K(b,"color",c.titleColor||v.dialogTitleLabelColor);var e=G("span"),g=a.$25d();if(c.titleAlign&&K(b,"text-align",c.titleAlign),c.titleIcon){var h=a.$14d=a.$15d();M(b,h)}if(c.title&&c.title.trim&&(c.title=c.title.trim()),e[k]=c.title||"&nbsp;",M(b,e),c.maximizable){var i=a.$16d=a.$17d();M(d,i)}if(c.closable){var j=a.$18d=a.$19d();M(d,j)}return M(b,d),K(b,"display","block"),K(b,"line-height",g+f),b},$13d:function(){var a=H();return K(a,q,r),K(a,g,s),K(a,j,5+f),K(a,h,s),K(a,i,s),K(a,"text-align",j),K(a,"white-space","nowrap"),a[l]="dialog-title-controls",a},$20d:function(){var a=this.$21d=H(),b=this._config,c=b.borderWidth;return K(a,q,"fixed"),K(a,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),K(a,"padding",s+" "+c+f+" "+c+f+" "+c+f),K(a,"box-sizing","border-box"),K(a,"-moz-box-sizing","border-box"),a[l]="dialog-container",K(a,u,b.titleBackground||v.dialogTitleBackground),a},$22d:function(){var a,b=this,c=b._config,d=b.$7d=H(),m=c.content,p=0,s=c.contentPadding||0;c.buttons!=A&&c.buttons.length>0&&(p=32),E(m)?d[k]=m:m.getView?(a=m.getView(),M(d,a)):(a=m,M(d,a)),K(d,q,r),K(d,"font",v.dialogContentLabelFont),e.Default.appendToScreen(d);var t=d.offsetWidth+1,u=d.offsetHeight,w=b.$25d();return c.width==A&&(c.width=t+10+2*s),c.height==A&&(c.height=u+w+p+5+2*s),e.Default.removeHTML(d),a&&(K(a,"box-sizing","border-box"),K(a,"-moz-box-sizing","border-box"),K(a,n,"100%"),K(a,o,"100%")),d[l]="dialog-content",K(d,h,w+s+f),K(d,i,p+s+f),K(d,g,s+f),K(d,j,s+f),K(d,"overflow","hidden"),d},getOverlayDiv:function(){return this.$41d},$23d:function(){var a=this.$41d=H();return a[l]="dialog-overlay",K(a,n,"100%"),K(a,o,"100%"),K(a,q,"fixed"),K(a,h,s),K(a,g,s),K(a,u,"rgba(235, 235, 235, 0.7)"),a},_config:A,setSize:function(a,b){var c=this,d=c._config;d&&(d.width=a,d.height=b,c.isShowing()&&(c.bindingHandleWindowResize(),c.iv()))},getConfig:function(){return this._config},$24d:function(){var a=this._config,b=a.titleIconSize||16;return z&&(b*=1.2),b},$25d:function(){var a=this._config,b=a.titleHeight||v.widgetTitleHeight;return b},$26d:function(a){K(a,"cursor","pointer"),K(a,"display","inline-block"),K(a,"margin-right",(z?8:4)+f),K(a,"vertical-align",h)},$27d:function(){var a=this.$30d=H(),b=10;return z&&(b=20),K(a,n,b+f),K(a,o,b+f),K(a,q,r),K(a,i,s),K(a,j,s),a[l]="resize-area",a},$15d:function(){var a=this,b=I();b[l]="dialog-title-control dialog-title-control-icon";var c=a.$25d(),d=a.$24d();return a.$26d(b),w.setCanvas(b,d,c),b},$17d:function(){var a=I();a[l]="dialog-title-control dialog-title-control-maximize";var b=this.$25d(),c=this.$24d();return this.$26d(a),w.setCanvas(a,c,b),a},$19d:function(){var a=I();a[l]="dialog-title-control dialog-title-control-close";var b=this.$25d(),c=this.$24d();return this.$26d(a),w.setCanvas(a,c,b),a},$28d:function(){var a=H();return K(a,u,v.dialogContentBackground||"white"),K(a,n,"100%"),K(a,o,"100%"),K(a,q,"relative"),a},$29d:function(){var a=this,b=H();K(b,"line-height",32+f),K(b,q,r),K(b,i,s),K(b,g,s),K(b,"white-space","nowrap"),K(b,"overflow","hidden"),K(b,j,s),K(b,u,v.dialogHeaderBackground),b[l]="dialog-container-buttons";var c=this._config,d=c.buttonsAlign||j,h=0;return K(b,"text-align",d),a.$42d=[],c.buttons.forEach(function(c){var i=new e.widget.Button,k=i.getView();k[l]="dialog-button "+c.className,k.buttonItem=c,a.$42d.push(i),i.setBorderColor(A),i.setBackground(v.dialogButtonBackground),i.setSelectBackground(v.dialogButtonSelectBackground),i.setLabelColor(v.dialogButtonLabelColor),K(k,q,"relative"),K(k,"display","inline-block"),K(k,"text-align",g),K(k,"height",24+f);var m=z?10:5;d===g||d===j?K(k,"margin-"+d,m+f):0===h||K(k,"margin-"+g,m+f),K(k,"vertical-align","middle");var o=v.getTextSize(i.getLabelFont(),c.label).width+10;i.onClicked=function(b){c.action&&c.action.call(a,c,b)},i.setLabel(c.label),i.setDisabled(c.disabled),K(k,n,o+f),M(b,i.getView()),h++}),b},setConfig:function(a){if(a){var b=this,c=b._view;b._config=a,b.action=a.action,b.clearNodes(c),a.borderWidth==A&&(a.borderWidth=5);var d=b.$23d(),e=b.$28d(),f=b.$31d(),g=b.$22d(),h=b.$20d(),i=b.$30d=b.$27d();if(M(c,d),M(c,h),M(h,e),M(e,f),M(e,g),a.buttons!=A&&a.buttons.length>0){var j=b.$29d();M(e,j)}M(h,i),a.maximized?(a.maximized=!1,b.bindingHandleWindowResize(),b.maximize(!0)):b.bindingHandleWindowResize(),b.isShowing()&&b.iv()}},hide:function(){var b=this,c=b.$21d,d=b.$41d,f=b._view;f[l]="ht-widget-dialog",y(c).duration(200).scale(.7).set(t,s).end(function(){b.onHidden&&b.onHidden(),e.Default.removeHTML(f),b.$10d.fire({kind:"hide",target:b})}),y(d).duration(200).set(t,s).end(),R(a,"resize",b.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(a){a?this.$41d.style.display="block":this.$41d.style.display="none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var a=this,b=a._config,c=a.$21d;J(c,m),a.iv(),b.maximized?a.$10d.fire({kind:"maximize",target:a}):a.$10d.fire({kind:"restore",target:a})},maximize:function(a){var b=this,c=b.$21d,d=b._config;if(!d.maximized){d.maximized=!0,b.$33d(),b.$16d[l]="dialog-title-control dialog-title-control-minimize";var e=O(),i=P(),j=d.width,k=d.height,m=B(c.style.left)||0,p=B(c.style.top)||0;b.$36d=j,b.$37d=k,b.$34d=m,b.$35d=p;var q=a?0:200;y(c).duration(q).set(g,s).set(h,s).set(n,e+f).set(o,i+f).end(function(){b.$32d()})}},restore:function(){var a=this,b=a.$34d,c=a.$35d,d=a.$36d,e=a.$37d,i=a._config;if(i.maximized&&(i.maximized=!1,a.$33d(),a.$16d[l]="dialog-title-control dialog-title-control-maximize",a.isShowing()&&b!=A&&c!=A&&d!=A&&e!=A)){var j=a.$21d;y(j).duration(200).set(g,b+f).set(h,c+f).set(n,d+f).set(o,e+f).end(function(){a.$32d()})}delete a.$34d,delete a.$35d,delete a.$36d,delete a.$37d},show:function(){var b=this,c=b._view,d=b._config,g=b.$21d,h=b.$41d;d&&d.zIndex!=A&&K(c,"z-index",d.zIndex+m),e.Default.appendToScreen(c),J(g,"scale(0.7)"),K(g,t,s),b.iv(),b.validate(),b._view[l]+=" dialog-show",C(function(){y(g).duration(200).scale(1).set(t,"1").end(function(){K(g,n,g.clientWidth+f),K(g,o,g.clientHeight+f),b.onShown&&b.onShown(),b.$10d.fire({kind:"show",target:b});var a=d&&d.content;a&&a.iv&&a.iv()}),y(h).duration(200).set(t,"1").end(),Q(a,"resize",b.bindingHandleWindowResize)},30)},setPosition:function(a){var b=this.$21d;b.style.left=a.x+"px",b.style.top=a.y+"px"},addEventListener:function(a,b,c){this.$10d.add(a,b,c)},removeEventListener:function(a,b){this.$10d.remove(a,b)},$38d:function(a,b,c,d){var e=w.initContext(a);w.translateAndScale(e,0,0,1),e.clearRect(0,0,c,c);var f=(c-d)/2;v.drawStretchImage(e,v.getImage(b),"fill",0,f,d,d),e.restore()},$33d:function(){var a=this,b=a._config,c=a.$16d,d=b.maximized?v.dialogRestoreIcon:v.dialogMaximizeIcon;if(c&&d){var e=a.$25d(),f=a.$24d();a.$38d(c,v.getImage(d),e,f)}},$39d:function(){var a=this,b=a._config,c=a.$14d,d=b.titleIcon;if(c&&d){var e=a.$25d(),f=a.$24d();a.$38d(c,v.getImage(d),e,f)}},$40d:function(){var a=this,b=a.$18d,c=v.dialogCloseIcon;if(b&&c){var d=a.$25d(),e=a.$24d();a.$38d(b,v.getImage(c),d,e)}},invalidate:function(a){var b=this,c=b.$42d;b._68I||(b._68I=1,v.callLater(b.validate,b,A,a),b.onInvalidated&&b.onInvalidated(),b.fireViewEvent("invalidate"));var d=b._config.content;d.invalidate&&d.invalidate(),c&&c.forEach(function(a){a.iv()})},validateImpl:function(){var a=this;a.$40d(),a.$33d(),a.$39d();var b=a._config.content;b.initView&&(b.setX(0),b.setY(0),b.setWidth(a.$7d.clientWidth),b.setHeight(a.$7d.clientHeight))},adjustPosition:function(a,b,c){var d=b.width,e=b.height,f=c.width,g=c.height,h=a.x,i=a.y,j=this._config,k=j.minDragSize||20;return"inside"===j.dragMode?(h+d>f&&(h=f-d),i+e>g&&(i=g-e),0>h&&(h=0),0>i&&(i=0)):(null==j.dragMode||"none"===j.dragMode)&&(-d+k>h&&(h=-d+k),h>f-k&&(h=f-k),i>g-k&&(i=g-k),0>i&&(i=0)),{x:h,y:i}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);