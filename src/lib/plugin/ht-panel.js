!function(a,b,c){"use strict";var d="ht",e=a[d],f=e.Default,g=f.isTouchable,h=e.Color,i="px",j="0",k="innerHTML",l="className",m="position",n="absolute",o="width",p="height",q="left",r="top",s="right",t="bottom",u="max-width",v="max-height",w=null,x="none",y="",z=a.parseInt,A=a.setTimeout,B=f.getInternal(),C=f.animate,D=h.titleIconBackground,E=function(){return document},F=function(a){return E().createElement(a)},G=function(){return F("div")},H=function(){return F("canvas")},I=function(a,b,c){a.style.setProperty(b,c,w)},J=function(a,b){return a.style.getPropertyValue(b)},K=function(a,b){a.appendChild(b)},L=function(a,b){a.removeChild(b)},M=B.addEventListener,N=(B.removeEventListener,function(a){var b=a.scrollWidth,c=a.scrollHeight;return a===E().body&&(b=Math.max(b,E().documentElement.scrollWidth),c=Math.max(c,E().documentElement.scrollHeight)),{width:b,height:c}}),O=function(a){var b=a.touches[0];return b?b:a.changedTouches[0]};B.addMethod(f,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:D,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:D}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:D},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:D}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:D},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:D}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:D},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:D},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:D},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:D}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:D},{type:"rect",rect:[10,118,268,56],background:D},{type:"rect",rect:[10,213,268,56],background:D}]},panelTitleLabelColor:f.labelSelectColor,panelTitleLabelFont:f.labelFont,panelContentLabelFont:f.labelFont,panelTitleBackground:h.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:c},!0);var P=e.widget.Panel=function(a){var b=this,c=b._view=B.createView(null,b);b.$1i=0,b.$18i=new e.Notifier,b.$2i="leftTop",I(c,r,j),I(c,q,j),I(c,m,n),I(c,"overflow","hidden"),b._interactor=new Q(b),b.setConfig(a),b.addEventListener(function(a){var c=b.getPanelConfig(a.id),d=c.content;("beginRestore"===a.kind||"betweenResize"===a.kind||"endToggle"===a.kind)&&(d&&d.invalidate&&d.invalidate(),c.items&&c.items.forEach(function(a){a&&a.content&&a.content.invalidate&&a.content.invalidate()}))})};f.def(P,b,{ms_v:1,_dragContainment:"parent",setConfig:function(a){function b(a){a.expanded=!a.expanded,c.togglePanel(a.id,!0,!0)}if(a){for(var c=this,d=c._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);c._config=a,c.$35i=[],a.expanded==w&&(a.expand!=w?a.expanded=a.expand:a.expanded=!0);var e=c._view,f=c.$24i(a,e,!0),g=f[2],h=a.width;c.$35i.push(f[1]),a.items&&a.items.forEach(function(a){a.expanded==w&&(a.expand!=w?a.expanded=a.expand:a.expanded=!0);var b=c.$24i(a,g.children[0]);c.$35i.push(b[1])});var k=G();I(k,o,10+i),I(k,p,10+i),I(k,m,n),I(k,t,j),I(k,s,j),k[l]="resize-area",K(e,k),c.$10i(),a.flowLayout&&I(e,m,"relative"),I(e,"opacity",j),K(E().body,e),h==w&&(h=e.offsetWidth),I(e,o,h+i),I(e,u,h+i);var q=a.content;q&&q.isSelfViewEvent&&(q.setX(0),q.setY(0),q.setWidth(h-2*(a.borderWidth||0)),q.setHeight(a.contentHeight)),a.items&&a.items.forEach(function(a){b(a)}),a.buttons&&a.buttons.indexOf("toggle")<0||b(a),a.minimized==w&&a.minimize!=w&&(a.minimized=a.minimize),a.minimized&&a.minimizable!==!1&&c.minimize(!0),L(E().body,e),I(e,"opacity",y),d&&K(d,e),c.iv()}},getPanelConfig:function(a){var b=this,c=b._config,d=c.items;if(c.id===a)return c;if(d)for(var e=0;e<d.length;e++){var f=d[e];if(f.id===a)return f}},getPanelView:function(a){for(var b=this,c=b.$35i,d=0;d<c.length;d++){var e=c[d],f=e.parentNode;if(f.$15i===a)return f}},setDragContainment:function(a){this._dragContainment=a},getDragContainment:function(){return this._dragContainment},$20i:function(){var a=this._config,b=a.restoreIconSize||24;return b},$5i:function(a){var b=a.titleIconSize||16;return g&&(b*=1.2),b},$4i:function(a){var b=a.titleHeight||f.widgetTitleHeight;return b},setTitle:function(a,b){if(b==w&&(b=this._config.id),b!=w){var c=this.getPanelConfig(b),d=this.getPanelView(b);c.title=a,d.querySelector(".panel-title span").innerHTML=a}},setInnerPanel:function(a){var b,c,d=this,e=a.id,f=d.$35i,g=!1;if(a.expanded==w&&(a.expanded=!0),e!=w){var h=d.getPanelConfig(e);if(h){g=!0;var i,j=d.getPanelView(e),k=j.parentNode,l=j.children[0];if(j!==d._view){d.$11i();for(i in h)delete h.key;for(i in a)h[i]=a[i];b=d.$24i(a,k,!1,j),c=b[1],k.removeChild(j);for(var m=0;m<f.length;m++)if(f[m]===l){f.splice(m,1,c);break}d.$12i(),h.expanded=!h.expanded,d.togglePanel(h.id,!0,!0),d.iv()}}}if(!g){d.$11i(),b=d.$24i(a,d._view.children[1]),c=b[1],f.push(c),d._config.items||(d._config.items=[]);var n=d._config.items;if(n.push(a),d.$12i(),n.length>1){var o=n[n.length-2],p=d.getPanelView(o.id).children[0];I(p,"border-bottom",d.$55i(o))}a.expanded=!a.expanded,d.togglePanel(a.id,!0,!0),d.iv()}},removeInnerPanel:function(a){var b,c=this,d=-1,e=c._config.items;if(e)for(b=0;b<e.length;b++){var f=e[b];if(f.id===a){d=b;break}}if(c.$11i(),d>=0){var g=c.$35i,h=c.getPanelView(a),i=h.children[0];for(b=0;b<g.length;b++)if(g[b]===i){g.splice(b,1);break}e.splice(d,1),h.parentNode.removeChild(h)}if(c.$12i(),e.length>0){var j=e[e.length-1],k=c.getPanelView(j.id).children[0];I(k,"border-bottom",c.$55i(j))}},$6i:function(a){I(a,"cursor","pointer"),I(a,"display","inline-block"),I(a,"margin-right",(g?8:4)+i),I(a,"vertical-align",r)},$24i:function(a,b,c,d){var e=this,g=e._config.flowLayout,h=c?b:G(),j=e.$50i(a),k=e.$3i(a,c);h[l]="ht-widget-panel"+(c?" outer-panel":" inner-panel"),a.borderWidth==w&&(c?a.borderWidth=2:a.borderWidth=0);var m=a.borderWidth;if(m="0 "+m+i+" "+m+i+" "+m+i+" ",I(h,"border-width",m),I(h,"border-color",a.titleBackground||f.panelTitleBackground),I(h,"border-style","solid"),K(h,k),K(h,j),c||(d?b.insertBefore(h,d):K(b,h)),!g&&c&&a.minimizable!==!1){var n=H(),o=e.$20i(),p=a.restoreToolTip;B.setCanvas(n,o,o),n[l]="control-button button-minimize button-minimize-restore",e.$6i(n),I(n,"display","none"),K(b,n),n.title=p||""}var q=a.panelBackground||a.titleBackground||f.panelTitleBackground;if(I(h,"background-color",q),a.id==w){for(var r=e.$1i++;e.getPanelConfig(r);)r=e.$1i++;a.id=r}return h.$15i=a.id,a.width&&(h.style.width=a.width+i),[h,k,j]},$9i:function(a){var b=H();b[l]="control-button button-toggle button-toggle-expand",b.title=a.toggleToolTip||"";var c=this.$4i(a),d=this.$5i(a);return this.$6i(b),B.setCanvas(b,d,c),b},$8i:function(a){var b=H(),c="control-button button-independent-switch";a.independent===!0?b[l]=c+" button-independent-switch-on":b[l]=c+" button-independent-switch-off",b.title=a.independentSwitchToolTip||"";var d=this.$4i(a),e=this.$5i(a);return this.$6i(b),B.setCanvas(b,e,d),b},$7i:function(a){var b=H();b[l]="control-button button-minimize button-minimize-minimize",b.title=a.minimizeToolTip||"";var c=this.$4i(a),d=this.$5i(a);return this.$6i(b),B.setCanvas(b,d,c),b},$55i:function(a){var b=this._config,c=b.items,d=a.separatorWidth||f.panelSeparatorWidth,e=a.titleBackground||f.panelTitleBackground,g=a.expanded!==!1?e:a.separatorColor||f.panelSeparatorColor||f.brighter(e);return(b===a||c&&c.indexOf(a)===c.length-1)&&(d=0),d+i+" solid "+g},$3i:function(a,b){var c=this,d=c._config.flowLayout,e=G(),g=G(),h=c.$4i(a),p=a.titleBackground,u=a.titleColor,v=a.titleIcon,w=a.buttons;if(e[l]="panel-title",I(e,m,"relative"),I(e,"background",p||f.panelTitleBackground),I(e,"color",u||f.panelTitleLabelColor),I(e,r,j),I(e,"box-sizing","border-box"),I(e,"-moz-box-sizing","border-box"),I(e,"padding","0 5px 0 0"),I(e,o,"100%"),I(e,"cursor","default"),I(e,"white-space","nowrap"),I(e,"font",f.panelTitleLabelFont),v){var x=H();x[l]="control-button panel-title-icon";var y=c.$4i(a),z=c.$5i(a);c.$6i(x),B.setCanvas(x,z,y),K(e,x)}var A=F("span");I(A,"display","inline-block"),I(A,"margin-left","5px"),A[k]="<span>"+a.title+"</span>",K(e,A),I(e,"line-height",h+i),g[l]="panel-title-controls",I(g,m,n),I(g,q,j),I(g,s,5+i),I(g,r,j),I(g,t,j),I(g,"text-align",s);var C=function(){var b=c.$9i(a);K(g,b)},D=function(){if(!d&&b&&a.minimizable!==!1){var e=c.$7i(a);K(g,e)}},E=function(){if(!b){var d=c.$8i(a);K(g,d)}},J=function(b){var d=H();d[l]="control-button custombutton-"+b.name,d.title=b.toolTip||"",d._action=b.action;var e=c.$4i(a),f=c.$5i(a);c.$6i(d),B.setCanvas(d,f,e),K(g,d)};if(w)for(var L=0;L<w.length;L++){var M=w[L];"string"==typeof M?"minimize"===M?D():"independentSwitch"===M?E():"toggle"===M&&C():"object"==typeof M&&J(M)}else D(),C();return K(e,g),e},$50i:function(a){var b=G(),d=a.contentHeight,e=G();I(e,m,"relative"),b[l]="panel-body",I(b,"overflow","hidden");var g=a.contentBackground;if(g===c&&(g="white"),I(b,"background",g),I(b,"font",f.panelContentLabelFont),K(b,e),a.content){var h,j=a.content;j.getView?(K(e,j.getView()),h=e.children[0]):j instanceof Element?(K(e,j),h=e.children[0]):e[k]=j,j.isSelfViewEvent||h&&(I(h,o,"100%"),I(h,p,"100%")),d&&I(e,p,d+i)}return b},$10i:function(){var a=this,b=a._config,c=a._view,d=c.querySelector(".resize-area").style;b.flowLayout||b.minimized===!0||b.expanded===!1?d.display=x:d.display="block"},$11i:function(){var a=this._view,b=a.children[1];this.$13i>=0?this.$13i++:this.$13i=1,I(b,v,y),I(a,u,y)},$12i:function(){var a=--this.$13i;if(0===a){var b=this._view,c=b.children[1];I(c,v,c.scrollHeight+i),I(b,u,b.offsetWidth+i)}},$14i:function(){var a=this._view,b=a.children[0],c=b.children[1].children,d=this._config,e=0;a.$26i=a.offsetWidth,e+=b.children[0].offsetWidth,d.titleIcon&&(e+=b.children[1].offsetWidth,c=b.children[2].children);for(var f=0;f<c.length;f++){var g=c[f];e+=g.offsetWidth+5}a.$51i=e+15},togglePanel:function(a,b,c){function d(a){var b=a.target,c=b.parentNode,d=e.getPanelConfig(c.$15i);delete c.$19i,b!==g&&e.$12i(),e.$18i.fire({kind:"endToggle",target:e,id:d.id})}for(var e=this,f=e._view,g=f.children[1],h=w,k=e.$35i,m=k.length,n=e._config.exclusive,p=e.$2i,q=[],r=e._config.narrowWhenCollapse,s=0;m>s;s++){var t=k[s],x=t.parentNode,z=x.$15i,A=e.getPanelConfig(z);z===a&&(h=x),!b&&n&&A.expanded&&x!==f&&z!==a&&A.independent!==!0&&q.push(x)}if(h&&!h.$19i){h.$19i=!0;var B=h.children[1],D=h.querySelector(".button-toggle"),E=e.getPanelConfig(h.$15i);if(!D)return;h===f||E.expanded||E.independent===!0||q.forEach(function(a){e.togglePanel(a.$15i,!0)}),h!==f&&e.$11i();var F=200;if(c&&(F=0),e.$18i.fire({kind:"beginToggle",target:e,id:h.$15i}),E.expanded){var G=function(){D[l]="control-button button-toggle",p.indexOf("Bottom")>=0?D[l]+=" button-toggle-expand":D[l]+=" button-toggle-collapse",I(B,o,B.clientWidth+i),E.expanded=!1,I(h.children[0],"border-bottom",e.$55i(E)),C(B).duration(F).set("opacity",j).set(v,j).end(d),r&&h===f&&C(h).duration(F).set(u,h.$51i+i).end(),h[l]+=" panel-collapse",C(h).duration(F).set("padding-bottom",j).end(),e.$28i(E,!0),e.$10i()};r&&h===f&&e.$14i(),G()}else D[l]="control-button button-toggle",p.indexOf("Bottom")>=0?D[l]+=" button-toggle-collapse":D[l]+=" button-toggle-expand",I(B,o,y),E.expanded=!0,I(h.children[0],"border-bottom",e.$55i(E)),C(B).duration(F).set("opacity","1").set(v,B.scrollHeight+i).end(d),r&&h===f&&C(h).duration(F).set(u,(h.$26i||h.offsetWidth)+i).end(),h[l]=h[l].replace(" panel-collapse",y),C(h).duration(F).end(),e.$28i(E,!0),e.$10i()}},$16i:function(){var a=this._view,b=a.$22i,c=a.$23i,d=this.$2i;return b==w&&(d.indexOf(q)>=0?b=a.$22i=0:d.indexOf(s)>=0&&(b=a.$22i=100)),c==w&&(d.indexOf("Top")>=0?c=a.$23i=0:d.indexOf("Bottom")>=0&&(c=a.$23i=100)),[b,c]},$25i:function(){var a=this,b=a._view,c=b.$21i,d=a.$20i(),e=a.$16i(),f=e[0],g=e[1],h=a.$2i;b.children[0].style.display=x,b.children[1].style.display=x,b.children[2].style.display=y,I(b,"padding",j),I(b,u,d+i),"leftTop"===h?(I(b,q,z(J(b,q))+(c.width-d)*f/100+i),I(b,r,z(J(b,r))+(c.height-d)*g/100+i)):"leftBottom"===h?(I(b,q,z(J(b,q))+(c.width-d)*f/100+i),I(b,t,z(J(b,t))+(c.height-d)*(1-g/100)+i)):"rightTop"===h?(I(b,s,z(J(b,s))+(c.width-d)*(1-f/100)+i),I(b,r,z(J(b,r))+(c.height-d)*g/100+i)):"rightBottom"===h&&(I(b,s,z(J(b,s))+(c.width-d)*(1-f/100)+i),I(b,t,z(J(b,t))+(c.height-d)*(1-g/100)+i)),b[l]+=" panel-minimized",a.$18i.fire({kind:"endMinimize",target:a,id:b.$15i})},$17i:function(){var a=this,b=a._config,c=a._view;I(c,"-webkit-transform",y),I(c,"-ms-transform",y),I(c,"transform",y),b.minimized?a.$25i():(a.$18i.fire({kind:"endRestore",target:a,id:b.id}),c[l]=c[l].replace(" panel-minimized",y)),delete c.$19i},minimize:function(a){var b=this,c=b._view;if(!c.$19i&&c.children[0].style.display!==x){var d=b._config,e=c.getBoundingClientRect(),f=b.$20i(),g=e.width,h=e.height,i=f/g,j=f/h,k=b.$16i(),l=k[0],m=k[1];c.$52i=i,c.$53i=j,c.$21i=e,b.$18i.fire({kind:"beginMinimize",target:b,id:c.$15i});var n=200;a&&(n=0),d.minimized=!0,c.$19i=!0,d.expanded&&(c.$26i=c.offsetWidth);var o=l+"% "+m+"%";I(c,"-webkit-transform-origin",o),I(c,"-ms-transform-origin",o),I(c,"transform-origin",o),C(c).duration(n).scale(i,j).end(function(){b.$17i()}),b.$10i()}},restore:function(){var a,b,c,d,e,f,g,h,j,k,l,m,n=this,o=n._view,p=o.parentNode,v=n._config;if(!o.$19i&&v.minimized){var w=o.$21i,y=o.$52i,B=o.$53i,D=(v.borderWidth+i,n.$20i()),E=N(p),F=n.$2i;"leftTop"===F?(a=z(J(o,q)),c=z(J(o,r)),e=a,g=c,j=a+w.width-E.width,k=c+w.height-E.height,j>0&&(j>=a?a=0:a-=j),k>0&&(k>=c?c=0:c-=k),l=(e-a)/(w.width-D)*100,m=(g-c)/(w.height-D)*100,I(o,q,a+i),I(o,r,c+i)):"leftBottom"===F?(a=z(J(o,q)),d=z(J(o,t)),e=a,h=d,j=a+w.width-E.width,k=d+w.height-E.height,j>0&&(j>=a?a=0:a-=j),k>0&&(k>=d?d=0:d-=k),l=(e-a)/(w.width-D)*100,m=100*(1-(h-d)/(w.height-D)),I(o,q,a+i),I(o,t,d+i)):"rightTop"===F?(b=z(J(o,s)),c=z(J(o,r)),f=b,g=c,j=b+w.width-E.width,k=c+w.height-E.height,j>0&&(j>=b?b=0:b-=j),k>0&&(k>=c?c=0:c-=k),l=100*(1-(f-b)/(w.width-D)),m=(g-c)/(w.height-D)*100,I(o,s,b+i),I(o,r,c+i)):"rightBottom"===F&&(b=z(J(o,s)),d=z(J(o,t)),f=b,h=d,j=b+w.width-E.width,k=d+w.height-E.height,j>0&&(j>=b?b=0:b-=j),k>0&&(k>=d?d=0:d-=k),l=100*(1-(f-b)/(w.width-D)),m=100*(1-(h-d)/(w.height-D)),I(o,s,b+i),I(o,t,d+i)),o.children[0].style.display="block",o.children[1].style.display="block",o.children[2].style.display=x,I(o,"-webkit-transform","scale("+y+", "+B+")"),I(o,"-ms-transform","scale("+y+", "+B+")"),I(o,"transform","scale("+y+", "+B+")"),o.$22i=l,o.$23i=m,I(o,"-webkit-transform-origin",l+"% "+m+"%"),I(o,"-ms-transform-origin",l+"% "+m+"%"),I(o,"transform-origin",l+"% "+m+"%"),v.narrowWhenCollapse&&!v.expanded?I(o,u,o.$51i+i):I(o,u,o.$26i+i),n.$18i.fire({kind:"beginRestore",target:n,id:o.$15i}),o.$19i=!0,v.minimized=!1,A(function(){C(o).scale(1,1).end(function(){n.$17i()})},30),n.$10i()}},addEventListener:function(a,b,c){this.$18i.add(a,b,c)},removeEventListener:function(a,b){this.$18i.remove(a,b)},setPosition:function(a,b){var c=this._view,d=this.$2i;"leftTop"===d?(I(c,q,a+i),I(c,r,b+i),I(c,s,y),I(c,t,y)):"leftBottom"===d?(I(c,q,a+i),I(c,t,b+i),I(c,s,y),I(c,r,y)):"rightTop"===d?(I(c,s,a+i),I(c,r,b+i),I(c,q,y),I(c,t,y)):"rightBottom"===d&&(I(c,s,a+i),I(c,t,b+i),I(c,q,y),I(c,r,y)),delete c.$22i,delete c.$23i},getPosition:function(){var a=this._view,b=this.$2i;return"leftTop"===b?{x:z(J(a,q)),y:z(J(a,r))}:"leftBottom"===b?{x:z(J(a,q)),y:z(J(a,t))}:"rightTop"===b?{x:z(J(a,s)),y:z(J(a,r))}:"rightBottom"===b?{x:z(J(a,s)),y:z(J(a,t))}:void 0},setPositionRelativeTo:function(a){var b=this,c=b._view.querySelectorAll(".button-toggle"),d="control-button button-toggle",e=b.getPosition();b.$2i=a,b.setPosition(e.x,e.y);for(var f=0;f<c.length;f++){var g=c[f],h=b.getPanelConfig(g.parentNode.parentNode.parentNode.$15i);h.expanded?a.indexOf("Bottom")>=0?g[l]=d+" button-toggle-collapse":g[l]=d+" button-toggle-expand":a.indexOf("Bottom")>=0?g[l]=d+" button-toggle-expand":g[l]=d+" button-toggle-collapse"}b.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(a){var b=this;b._68I||(b._68I=1,f.callLater(b.validate,b,w,a),b.onInvalidated&&b.onInvalidated(),b.fireViewEvent("invalidate"));var c=this._config,d=c.content;d&&d.invalidate&&d.invalidate(),c.items&&c.items.forEach(function(a){a&&a.content&&a.content.invalidate&&a.content.invalidate()})},getIconStretch:function(a){var b=this._config.iconStretch||"fill";return b},$27i:function(a,b,c,d,e){var g=B.initContext(a);B.translateAndScale(g,0,0,1),g.clearRect(0,0,c,c);var h=(c-d)/2;f.drawStretchImage(g,f.getImage(b),this.getIconStretch(e),0,h,d,d),g.restore()},$28i:function(a){var b,c,d,e=this,g=a.id,h=e.getPanelView(g),i=h.querySelector(".button-toggle"),j=e.$2i.indexOf("Bottom")>=0;if(c=j?f.panelCollapseIcon:f.panelExpandIcon,d=j?f.panelExpandIcon:f.panelCollapseIcon,i){b=a.expanded?f.getImage(d):f.getImage(c);var k=e.$4i(a),l=e.$5i(a);e.$27i(i,b,k,l,"toggle")}},$29i:function(a){var b,c=this,d=a.id,e=c.getPanelView(d),g=e.querySelector(".button-independent-switch"),h=f.panelUnLockIcon,i=f.panelLockIcon;if(g){b=a.independent!==!0?f.getImage(i):f.getImage(h);var j=c.$4i(a),k=c.$5i(a);c.$27i(g,b,j,k,"switch")}},$30i:function(a){var b=this,c=a.id,d=b.getPanelView(c),e=d.querySelector(".button-minimize-minimize"),g=f.panelMinimizeIcon;if(e){var h=b.$4i(a),i=b.$5i(a);b.$27i(e,f.getImage(g),h,i,"miminize")}},$31i:function(a){var b=this,c=a.id,d=b.getPanelView(c),e=d.querySelector(".button-minimize-restore"),g=a.titleIcon||f.panelRestoreIcon;if(e){var h=b.$20i();b.$27i(e,f.getImage(g),h,h,"restore")}},$32i:function(a){var b=this,c=a.id,d=b.getPanelView(c);if(a.buttons){var e=a.buttons;e.forEach(function(c){var e=c.name,g=c.icon;if(e&&g){var h=d.querySelector(".custombutton-"+e);if(h){var i=b.$4i(a),j=b.$5i(a)-1;b.$27i(h,f.getImage(g),i,j,"custom")}}})}},$33i:function(a){var b=this,c=a.id,d=b.getPanelView(c),e=d.querySelector(".panel-title-icon"),g=a.titleIcon;if(e&&g){var h=b.$4i(a),i=b.$5i(a);b.$27i(e,f.getImage(g),h,i,"title")}},validateImpl:function(){var a=this,b=a._config;a.$28i(b),a.$30i(b),a.$31i(b),a.$32i(b),a.$33i(b),b.items&&b.items.forEach(function(b){a.$28i(b),a.$29i(b),a.$32i(b)})}});var Q=function(a){var b=this,c=a.getView();b.$34i=a,b.addListeners(),M(c,"dblclick",b.$42i.bind(b))};f.def(Q,b,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(a){for(var b=this.$34i,c=a.target,d=b.$35i,e=d.length,f=0;e>f;f++){var g=d[f];g.contains(c)&&(a.preventDefault(),b.togglePanel(g.parentNode.$15i))}},handle_touchstart:function(a){var b=this,c=b.$34i,d=c._config,e=d.flowLayout,h=a;if(f.isLeftButton(a)){var i=a.target,j=c.getView().children[0],k=c.getView().querySelector(".button-minimize-restore");g&&(h=O(a));var l=b.$40i={x:h.pageX,y:h.pageY};b.$41i={x:l.x,y:l.y},(!e&&j.contains(i)||k&&k.contains(i))&&(b.$38i=!0,f.startDragging(b,a)),!e&&b.handle_mousemove(a)&&(b.$37i=!0,f.startDragging(b,a),c.$11i())}},handle_mousedown:function(a){this.handle_touchstart(a)},handle_touchend:function(a){var b=this,c=b.$34i,d=a.target,e=c.$35i,f=e.length,g=0,h=c.getView(),i=h.querySelector(".button-minimize"),j=h.querySelector(".button-minimize-restore");if(!b.$39i&&!b.$36i){if(i&&i.contains(d)||j&&j.contains(d))a.preventDefault(),c._config.minimized?c.restore():c.minimize();else for(;f>g;g++){var k=e[g],m=k.parentNode,n=m.$15i,o=c.getPanelConfig(n),p=k.querySelector(".button-toggle"),q=k.querySelector(".button-independent-switch");if(p===d)a.preventDefault(),c.togglePanel(n);else if(q===d){a.preventDefault();var r="button-independent-switch-off",s="button-independent-switch-on";o.independent==w?o.independent=!0:o.independent=!o.independent,o.independent?q[l]=q[l].replace(r,s):q[l]=q[l].replace(s,r),c.$29i(o)}else d[l]&&d[l].indexOf("control-button custombutton-")>=0&&k.contains(d)&&d._action.call(c,o,c.getPanelView(n),a)}delete b.$40i,delete b.$41i}},handle_mouseup:function(a){this.handle_touchend(a)},handleWindowTouchEnd:function(a){var b=this,c=b.$34i;b.$37i&&b.$36i?(c.$18i.fire({kind:"endResize",target:c,id:c.getView().$15i}),c.$12i()):b.$38i&&b.$39i&&c.$18i.fire({kind:"endMove",target:c,id:c.getView().$15i}),this.clear()},handleWindowMouseUp:function(a){this.handleWindowTouchEnd(a)},handle_mousemove:function(a){var b=this,c=b.getView(),d=c.querySelector(".resize-area"),e=d.getBoundingClientRect(),h={x:e.left,y:e.top,width:e.width,height:e.height};a=g?O(a):a;var i=a.clientX,j=a.clientY,k=b.$34i._config;return k.expanded&&k.minimized!==!0&&f.containsPoint(h,{x:i,y:j})?(c.style.cursor="nwse-resize",!0):void(c.style.cursor=y)},handleWindowTouchMove:function(a){a.preventDefault();var b=a;g&&(b=O(a));var c=this,d=c.$40i,e=c.$41i;if(!(e.x==d.x&&e.y==d.y&&f.getDistance(e,{x:b.pageX,y:b.pageY})<=1)){var h=c.$34i,j=c.getView(),k=j.parentNode,l=h._config,m=l.resizeMode||"wh",n=b.pageX-d.x,u=b.pageY-d.y,v=h.$2i;if(c.$37i){var w=j.children[1].children[0],x=j.offsetWidth,y=w.offsetHeight,A=x+n,B=y+u;A=Math.max(A,100),B=Math.max(B,100),"w"===m?(I(j,o,A+i),l.width=A):"h"===m?(I(w,p,B+i),l.contentHeight=B):"wh"===m&&(I(j,o,A+i),I(w,p,B+i),l.width=A,l.contentHeight=B),v.indexOf("right")>=0&&I(j,s,z(J(j,s))-(A-x)+i),v.indexOf("Bottom")>=0&&I(j,t,z(J(j,t))-(B-y)+i),d.x=b.pageX,d.y=b.pageY;var C=l.content;C&&C.isSelfViewEvent&&(C.setX(0),C.setY(0),C.setWidth(l.width-2*(l.borderWidth||0)),C.setHeight(l.contentHeight)),c.$36i?h.$18i.fire({kind:"betweenResize",target:h,id:h.getView().$15i}):(c.$36i=!0,h.$18i.fire({kind:"beginResize",target:h,id:h.getView().$15i}))}else if(c.$38i){var D,E,F,G,H,K,L,M,P,Q,R=j.getBoundingClientRect(),S=R.width,T=R.height,U=N(k),V=U.width,W=U.height,X=h._dragContainment;"leftTop"===v?(D=z(J(j,q))||0,F=z(J(j,r))||0,H=D+n,L=F+u,"parent"===X&&(H+S>V&&(H=V-S),L+T>W&&(L=W-T),0>H&&(H=0),0>L&&(L=0)),P=H-D,Q=L-F,h.setPosition(H,L),d.x+=P,d.y+=Q):"rightBottom"===v?(E=z(J(j,s))||0,G=z(J(j,t))||0,K=E-n,M=G-u,"parent"===X&&(0>K&&(K=0),0>M&&(M=0),K+S>V&&(K=V-S),M+T>W&&(M=W-T)),P=K-E,Q=M-G,h.setPosition(K,M),d.x-=P,d.y-=Q):"rightTop"===v?(E=z(J(j,s))||0,F=z(J(j,r))||0,K=E-n,L=F+u,"parent"===X&&(0>K&&(K=0),0>L&&(L=0),K+S>V&&(K=V-S),L+T>W&&(L=W-T)),P=K-E,Q=L-F,h.setPosition(K,L),d.x-=P,d.y+=Q):"leftBottom"===v&&(D=z(J(j,q))||0,G=z(J(j,t))||0,H=D+n,M=G-u,"parent"===X&&(0>H&&(H=0),0>M&&(M=0),H+S>V&&(H=V-S),M+T>W&&(M=W-T)),P=H-D,Q=M-G,h.setPosition(H,M),d.x+=P,d.y-=Q),c.$39i?h.$18i.fire({kind:"betweenMove",target:h,id:h.getView().$15i}):(c.$39i=!0,h.$18i.fire({kind:"beginMove",target:h,id:h.getView().$15i}))}}},handleWindowMouseMove:function(a){this.handleWindowTouchMove(a)}});var R=e.widget.PanelGroup=function(a){var b=this,c=b._view=B.createView(null,b);c.style.border="1px dashed black",c.style.position="absolute",c.style.background="rgba(120, 120, 120, 0.4)",b.$48i=new e.List,b._tolerance=100,b._config=a||{hGap:0,vGap:0},b.bindHandlePanelMove=b.handlePanelMove.bind(b),b.bindHandlePanelEvent=b.handlePanelEvent.bind(b),b.invalidate()};f.def(R,b,{invalidate:function(){var a=this;a._68I||(a._68I=1,A(function(){a.validate()},50))},validate:function(){if(this._68I){delete this._68I;var a=this.$48i.get(0);if(a){var b=a.getView().parentNode;b&&(this.layoutPanels(b,"leftTop"),this.layoutPanels(b,"rightTop"),this.layoutPanels(b,"leftBottom"),this.layoutPanels(b,"rightBottom"))}}},setLeftTopPanels:function(){var a=this,b=a.$43i,c=a.$48i;b==w&&(b=a.$43i=new e.List);for(var d=0;d<arguments.length;d++){var f=arguments[d];if("string"==typeof f)b.$49i=f;else{if(f._config.flowLayout)continue;f.setPositionRelativeTo("leftTop"),b.contains(f)||b.add(f),c.contains(f)||a.add(f)}}},setRightTopPanels:function(){var a=this,b=a.$44i,c=a.$48i;b==w&&(b=a.$44i=new e.List);for(var d=0;d<arguments.length;d++){var f=arguments[d];if("string"==typeof f)b.$49i=f;else{if(f._config.flowLayout)continue;f.setPositionRelativeTo("rightTop"),b.contains(f)||b.add(f),c.contains(f)||a.add(f)}}},setLeftBottomPanels:function(){var a=this,b=a.$45i,c=a.$48i;b==w&&(b=a.$45i=new e.List);for(var d=0;d<arguments.length;d++){var f=arguments[d];if("string"==typeof f)b.$49i=f;else{if(f._config.flowLayout)continue;f.setPositionRelativeTo("leftBottom"),b.contains(f)||b.add(f),c.contains(f)||a.add(f)}}},setRightBottomPanels:function(){var a=this,b=a.$46i,c=a.$48i;b==w&&(b=a.$46i=new e.List);for(var d=0;d<arguments.length;d++){var f=arguments[d];if("string"==typeof f)b.$49i=f;else{if(f._config.flowLayout)continue;f.setPositionRelativeTo("rightBottom"),b.contains(f)||b.add(f),c.contains(f)||a.add(f)}}},add:function(a){if(!a._config.flowLayout){var b=this,c=b.$48i;c.contains(a)||(a.addEventListener(b.bindHandlePanelMove),a.addEventListener(b.bindHandlePanelEvent),c.add(a))}},remove:function(a){var b=this,c=b.$48i;c.contains(a)&&(a.removeEventListener(b.bindHandlePanelMove),a.removeEventListener(b.bindHandlePanelEvent),c.remove(a),b.$43i.contains(a)&&b.$43i.remove(a),b.$44i.contains(a)&&b.$44i.remove(a),b.$45i.contains(a)&&b.$45i.remove(a),b.$46i.contains(a)&&b.$46i.remove(a))},layoutPanels:function(a,b,c){var d=this,e=d._config,f=e.hGap||0,g=e.vGap||0;if(a){var h=d.$43i;if("leftBottom"===b?h=d.$45i:"rightTop"===b?h=d.$44i:"rightBottom"===b&&(h=d.$46i),!h)return;var j=h.$49i,k=f,l=g;if(a.contains(d._view)&&a.removeChild(d._view),h&&h.size()>0)for(var m=0;m<h.size();m++){var n=h.get(m),o=n.getView();a=a||o.parentNode,c!==m?n.setPosition(k,l):("leftTop"===b?(d._view.style.right="",d._view.style.bottom="",d._view.style.left=k+i,d._view.style.top=l+i):"leftBottom"===b?(d._view.style.right="",d._view.style.top="",d._view.style.left=k+i,d._view.style.bottom=l+i):"rightTop"===b?(d._view.style.left="",d._view.style.bottom="",d._view.style.right=k+i,d._view.style.top=l+i):"rightBottom"===b&&(d._view.style.left="",d._view.style.top="",d._view.style.right=k+i,d._view.style.bottom=l+i),d._view.style.width=o.offsetWidth+i,d._view.style.height=o.offsetHeight+i,a.insertBefore(d._view,o)),"h"===j?k+=o.offsetWidth+f:"v"===j&&(l+=o.offsetHeight+g)}}},handlePanelEvent:function(a){if("beginToggle"===a.kind||"endToggle"===a.kind||"beginRestore"===a.kind||"endMinimize"===a.kind||"endResize"===a.kind){var b=this,c=a.target,d=c.getView(),e=d.parentNode,f=b.$43i,g=b.$44i,h=b.$45i,j=b.$46i,k=b._config,l=w,m=w,n=c.$47i;if(n==w&&(n=c.$47i=0),"beginToggle"===a.kind?n=c.$47i=n+1:"endToggle"===a.kind&&(n=c.$47i=n-1),f&&f.contains(c)?(l="leftTop",m=f):h&&h.contains(c)?(l="leftBottom",m=h):g&&g.contains(c)?(l="rightTop",m=g):j&&j.contains(c)&&(l="rightBottom",m=j),"beginToggle"===a.kind&&l&&1===n){var o=G(),p=o.style,q=m.$49i,r="each";p.fontSize="0",p.position="absolute",p.width="100%","leftTop"===l?(p.left=0,p.top=0):"leftBottom"===l?(p.left=0,p.bottom=0,"v"===q&&(r="reverseEach")):"rightTop"===l?(p.right=0,p.top=0,p.textAlign="right","h"===q&&(r="reverseEach")):"rightBottom"===l&&(p.right=0,p.bottom=0,p.textAlign="right",r="reverseEach"),m[r](function(a){var b=a.getView(),c=b.style,d=G();c.position="static",d.style.textAlign="left",d.style.position="relative",d.style.display="inline-block","leftTop"===l?(d.style.marginLeft=k.hGap+i,d.style.marginTop=k.vGap+i):"leftBottom"===l?(d.style.marginLeft=k.hGap+i,d.style.marginBottom=k.vGap+i):"rightTop"===l?(d.style.marginRight=k.hGap+i,d.style.marginTop=k.vGap+i):"rightBottom"===l&&(d.style.marginRight=k.hGap+i,d.style.marginBottom=k.vGap+i),d.appendChild(b),o.appendChild(d),"h"===q?"leftTop"===l||"rightTop"===l?d.style.verticalAlign="top":d.style.verticalAlign="bottom":o.appendChild(F("br"))}),b.$54i=o,e.appendChild(o)}else"endToggle"===a.kind&&l&&0===n?A(function(){e=e.parentNode.parentNode,e.removeChild(b.$54i),delete b.$54i,m.each(function(a){var b=a.getView(),c=b.style;c.position="absolute",e.appendChild(b)}),b.layoutPanels(e,l)},30):("beginRestore"===a.kind||"endMinimize"===a.kind||"endResize"===a.kind)&&l&&b.layoutPanels(e,l)}},handlePanelMove:function(a){if(!(a.kind.indexOf("Move")<0)){var b=this,c=b._config,d=c.hGap||0,f=c.vGap||0,g=a.target,h=g._view,i=h.getBoundingClientRect(),j=i.width,k=i.height,l=j/2,m=k/2,n=h.parentNode,o=b.$43i,p=b.$44i,q=b.$45i,r=b.$46i,s=n.getBoundingClientRect(),t=b._tolerance;if("endMove"===a.kind){var u=b._corner;u&&(g.setPositionRelativeTo(u),b.layoutPanels(n,u)),delete b._corner}if("betweenMove"===a.kind){var v=s.left,x=s.top,y=s.width,A=s.height,B=i.left+j/2,C=i.top+k/2;o==w&&(o=b.$43i=new e.List),q==w&&(q=b.$45i=new e.List),p==w&&(p=b.$44i=new e.List),r==w&&(r=b.$46i=new e.List),delete b._corner,o.contains(g)?(o.remove(g),b.layoutPanels(n,"leftTop")):q.contains(g)?(q.remove(g),b.layoutPanels(n,"leftBottom")):p.contains(g)?(p.remove(g),b.layoutPanels(n,"rightTop")):r.contains(g)&&(r.remove(g),b.layoutPanels(n,"rightBottom"));var D=function(a,c){var e=v+d,h=x+f;if(0===c.size()){var i=e+l,j=h+m;"leftBottom"===a?j=x+A-f-m:"rightTop"===a?i=v+y-d-l:"rightBottom"===a&&(i=v+y-d-l,j=x+A-f-m);var k=B-i,o=C-j,p=Math.sqrt(k*k+o*o);if(t>p)return b._corner=a,c.add(g),b.layoutPanels(n,a,0),!0}else if(1===c.size()){var q=c.get(0),r=q.getView().getBoundingClientRect(),s=r.left+l,u=r.top+m,D=r.left+r.width+d+l,E=h+m,F=e+l,G=r.top+r.height+f+m;"leftBottom"===a?(u=r.top+r.height-m,E=x+A-f-m,G=r.top-f-m):"rightTop"===a?(s=r.left+r.width-l,D=r.left-d-l,F=v+y-d-l):"rightBottom"===a&&(s=r.left+r.width-l,u=r.top+r.height-m,D=r.left-d-l,E=x+A-f-m,F=v+y-d-l,G=r.top-f-m);var H=B-s,I=C-u,J=B-D,K=C-E,L=B-F,M=C-G,N=z(Math.sqrt(H*H+I*I)),O=z(Math.sqrt(J*J+K*K)),P=z(Math.sqrt(L*L+M*M)),Q=[N,O,P];Q.sort(function(a,b){return a-b});var R=Q[0];if(t>R){if(b._corner=a,R===N)return c.add(g,0),b.layoutPanels(n,a,0),!0;if(R===O)return c.add(g),c.$49i="h",b.layoutPanels(n,a,1),!0;if(R===P)return c.add(g),c.$49i="v",b.layoutPanels(n,a,1),!0}}else if(c.size()>1){for(var S=w,T={},U=[],V=c.$49i,W=0;W<c.size();W++){var X=c.get(W),Y=X.getView(),Z=Y.getBoundingClientRect(),$=Z.left+l,_=Z.top+m;"leftBottom"===a?_=Z.top+Z.height-m:"rightTop"===a?$=Z.left+Z.width-l:"rightBottom"===a&&($=Z.left+Z.width-l,_=Z.top+Z.height-m),W===c.size()-1&&(S=Z);var k=B-$,o=C-_,p=z(Math.sqrt(k*k+o*o));T[p]=W,U.push(p)}"leftTop"===a&&"h"===V?(i=S.left+S.width+d+l,j=h+m):"leftTop"===a&&"v"===V?(i=e+l,j=S.top+S.height+f+m):"leftBottom"===a&&"h"===V?(i=S.left+S.width+d+l,j=x+A-f-m):"leftBottom"===a&&"v"===V?(i=e+l,j=S.top-f-m):"rightTop"===a&&"h"===V?(i=S.left-d-l,j=h+m):"rightTop"===a&&"v"===V?(i=v+y-d-l,j=S.top+S.height+f+m):"rightBottom"===a&&"h"===V?(i=S.left-d-l,j=x+A-f-m):"rightBottom"===a&&"v"===V&&(i=v+y-d-l,j=S.top-f-m),k=B-i,o=C-j,p=z(Math.sqrt(k*k+o*o)),T[p]=W,U.push(p),U.sort(function(a,b){return a-b});var R=U[0];if(t>R)return b._corner=a,c.add(g,T[R]),b.layoutPanels(n,a,T[R]),!0}};D("leftTop",o)||D("leftBottom",q)||D("rightTop",p)||D("rightBottom",r)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);