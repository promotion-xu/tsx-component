!function(a,b,c){"use strict";var d="ht",e=a[d],f=e.Default,g=Math,h=(g.PI,g.sin,g.cos,g.atan2,g.sqrt,g.max),i=g.floor,j=(g.round,g.ceil),k=e.Shape,l=(e.Edge,e.List),m=e.Style,n=e.graph,o=f.getInternal(),p=o.ui(),q=null,r="prototype",s=a.clearInterval,t=a.setInterval,u=function(a){var b=a.data,c=this.dm();if(b&&"add"===a.kind){var d=c.$1c,e=b instanceof k?"shape.":"edge.";d&&b.s(e+"dash.flow")&&d.indexOf(b)<0&&d.push(b)}"clear"===a.kind&&(c.$1c=[])},v=function(a){var b=a.property,c=a.data,d=a.newValue,e=this.dm().$1c,f=c instanceof k?"s:shape.dash.flow":"s:edge.dash.flow";if(e&&b===f)if(d)e.indexOf(c)<0&&e.push(c);else for(var g=e.length,h=0;g>h;h++)if(e[h]===c){e.splice(h,1);break}},w=n.GraphView[r],x=p.EdgeUI[r],y=p.ShapeUI[r],z=y._80o,A=x._80o,B=e.DataModel[r],C=B.prepareRemove,D=w.setDataModel;m["edge.dash.flow.step"]==q&&(m["edge.dash.flow.step"]=3),m["shape.dash.flow.step"]==q&&(m["shape.dash.flow.step"]=3),B.prepareRemove=function(a){C.call(this,a);var b=a._dataModel,c=b.$1c;if(c)for(var d=c.length,e=0;d>e;e++)if(c[e]===a){c.splice(e,1);break}},w.setDataModel=function(a){var b=this,c=b._dataModel;if(c!==a){c&&(c.umm(u,b),c.umd(v,b),c.$1c=[]),a.mm(u,b),a.md(v,b);var d=a.$1c=[];a.each(function(a){var b=a instanceof k?"shape.":"edge.";a.s(b+"dash.flow")&&d.indexOf(a)<0&&d.push(a)}),D.call(b,a)}},w.setDashFlowInterval=function(a){var b=this,c=b.$2c;b.$2c=a,b.fp("dashFlowInterval",c,a),b.$3c!=q&&(s(b.$3c),delete b.$3c,b.enableDashFlow(a))},w.getDashFlowInterval=function(){return this.$2c},w.$4c=function(){var a,b,c,d=this,e=d.tx(),g=d.ty(),k=d._zoom,m=d.getWidth(),n=d.getHeight(),p={x:-e/k,y:-g/k,width:m/k,height:n/k},q=d.dm().$1c,r=d._56I,s=new l;if(q.forEach(function(b){r[b.getId()]&&(a=d.getDataUI(b),a&&(c=a._79o(),c&&s.add(c)))}),0!==s.size()&&(s.each(function(a){f.intersectsRect(p,a)&&(b=f.unionRect(b,a))}),b&&(b&&(f.grow(b,h(1,1/k)),b.x=i(b.x*k)/k,b.y=i(b.y*k)/k,b.width=j(b.width*k)/k,b.height=j(b.height*k)/k,b=f.intersection(p,b)),b))){var t=d._canvas.getContext("2d");t.save(),t.lineCap=f.lineCap,t.lineJoin=f.lineJoin,o.translateAndScale(t,e,g,k),t.beginPath(),t.rect(b.x,b.y,b.width,b.height),t.clip(),t.clearRect(b.x,b.y,b.width,b.height),d.$5c(t,b),t.restore()}},w.$5c=function(a,b){var c,d,e=this;e._93db(a),e.each(function(g){e._56I[g._id]&&(c=e.getDataUI(g),c&&(d=c._79o(),(!b||f.intersectsRect(b,d))&&(c.$7c=!0,c._42(a),delete c.$7c)))}),e._92db(a)},w.enableDashFlow=function(a){var b=this;b.$3c==q&&(b.$3c=t(function(){b.$4c()},a||b.$2c||50))},w.disableDashFlow=function(){var a=this;s(a.$3c),delete a.$3c};var E=function(){var a=this,b=a._data,c=b instanceof k?"shape.":"edge.",d=b.s(c+"dash.pattern"),e=b.s(c+"dash.flow.reverse");if(d&&b.s(c+"dash")&&b.s(c+"dash.flow")&&a.$7c){var f=a.s(c+"dash.offset")||0,g=b.s(c+"dash.flow.step"),h=b.getStyleMap(),i=0;d.forEach(function(a){i+=a}),e&&(g=-g),f-=g,f%=i,h||(b._styleMap=h={}),h[c+"dash.offset"]=f}};x._80o=function(a){A.call(this,a),E.call(this)},y._80o=function(a){z.call(this,a),E.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);