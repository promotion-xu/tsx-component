!function(a,b,c){"use strict";var d="ht",e=d+".graph.",f=a[d],g=f.graph,h=f.Default,i=f.Color,j=null,k="px",l=h.getInternal(),m=l.getPinchDist,n=h.preventDefault,o=h.getTouchCount,p=h.startDragging;l.addMethod(h,{overviewBackground:i.widgetBackground,overviewMaskBackground:i.transparent,overviewContentBorderColor:i.widgetBorder,overviewContentBackground:i.background},!0),g.Overview=function(a){var b=this,c=b._view=l.createView(1,b);b._canvas=l.createCanvas(c),c.style.background=h.overviewBackground,c.appendChild(b._mask=l.createDiv()),b.setGraphView(a),b.addListeners()},h.def(e+"Overview",b,{ms_v:1,ms_fire:1,ms_listener:1,ms_ac:["maskBackground","contentBorderColor","contentBackground","autoUpdate","fixToRect"],_autoUpdate:!0,_fixToRect:!1,_rate:1,_scrollRect:{x:0,y:0,width:0,height:0},_maskBackground:h.overviewMaskBackground,_contentBorderColor:h.overviewContentBorderColor,_contentBackground:h.overviewContentBackground,getGraphView:function(){return this.gv},setGraphView:function(a){var b=this;if(b.gv!==a){var c=b.gv;b.gv=a,c&&(c.removeViewListener(b.handleGraphViewChanged,b),c.ump(b.handleGraphViewPropertyChanged,b)),a&&(a.addViewListener(b.handleGraphViewChanged,b),a.mp(b.handleGraphViewPropertyChanged,b)),b.fp("graphView",c,a),b.redraw()}},getCanvas:function(){return this._canvas},getMask:function(){return this._mask},dispose:function(){this.setGraphView(null)},onPropertyChanged:function(a){this.redraw()},handleGraphViewChanged:function(a){this._autoUpdate&&"validate"===a.kind&&this.redraw()},handleGraphViewPropertyChanged:function(a){("canvasBackground"===a.property||this.getFixToRect()&&("zoom"===a.property||"translateX"===a.property||"translateY"===a.property))&&this.redraw()},redraw:function(){var a=this;a._redraw||(a._redraw=1,a.iv(50))},validateImpl:function(){var a=this,b=a.gv,c=a._canvas,d=a.getWidth(),e=a.getHeight(),f=a._redraw;if(b){var g=a._mask,i=g.style,m=b.getViewRect(),n=this.getFixToRect(),o=n?"boolean"==typeof n?b.getContentRect():n:b.getScrollRect(),p=o.x,q=o.y,r=o.width,s=o.height,t=a._rate=Math.max(r/d,s/e),u=a._x=(d-r/t)/2,v=a._y=(e-s/t)/2;if(0!==m.width&&0!==m.height||a.hasRetry||(h.callLater(a.iv,a,j),a.hasRetry=!0),(d!==c.clientWidth||e!==c.clientHeight)&&(l.setCanvas(c,d,e),f=1),l.isSameRect(o,a._scrollRect)||(a._scrollRect=o,f=1),f){var w=l.initContext(c),x=b.getDataModel(),y=x.getBackground()||a._contentBackground,z=a._contentBorderColor,A=h.devicePixelRatio;w.clearRect(0,0,d*A,e*A);var B=x.getBackground()&&x.a("width")>0&&x.a("height")>0;y&&!B&&l.fillRect(w,u*A,v*A,r/t*A,s/t*A,y),l.translateAndScale(w,-p/t+u,-q/t+v,1/t),b._42(w),w.restore(),z&&l.drawBorder(w,z,u*A,v*A,r/t*A,s/t*A)}i.background=a._maskBackground,i.left=u+(m.x-p)/t+k,i.top=v+(m.y-q)/t+k,i.width=m.width/t+k,i.height=m.height/t+k,a._redraw=null}else if(f){var w=l.initContext(c);w.clearRect(0,0,d,e),w.restore(),a._redraw=null}},center:function(a){var b=this,c=b.gv;if(c){var d=c._zoom,e=c._29I,f=b._rate,g=b._scrollRect,i=h.getLogicalPoint(a,b._canvas),j=g.x+(i.x-b._x)*f,k=g.y+(i.y-b._y)*f;c.setTranslate((e.width/2-j)*d,(e.height/2-k)*d)}},handle_mousedown:function(a){this.handle_touchstart(a)},handleWindowMouseUp:function(a){this.handleWindowTouchEnd(a)},handleWindowMouseMove:function(a){this.handleWindowTouchMove(a)},handle_mousewheel:function(a){this.handleScroll(a,a.wheelDelta)},handle_DOMMouseScroll:function(a){2===a.axis&&this.handleScroll(a,-a.detail)},handleScroll:function(a,b){if(n(a),this.gv){var c=this.gv;b>0?c.scrollZoomIn():0>b&&c.scrollZoomOut()}},handle_touchstart:function(a){if(n(a),this.gv&&h.isLeftButton(a)){var b=this,c=b.gv,d=o(a);1===d?h.isDoubleClick(a)&&c.isResettable()?c.reset():(b.center(a),p(b,a)):2===d&&(b._dist=m(a),p(b,a))}},handleWindowTouchEnd:function(a){delete this._dist},handleWindowTouchMove:function(a){if(this.gv){var b=this,c=b._dist,d=o(a);1===d?b.center(a):2===d&&c!=j&&b.gv.handlePinch(j,m(a),c)}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);